const data = [
    {
        id: 1,
        title: "majority",
        option: ["地點", "多數", "自然", "藝術家"],
        answer: "B"
    },
    {
        id: 2,
        title: "position",
        option: ["桌遊", "心靈的", "周圍", "地點"],
        answer: "D"
    },
    {
        id: 3,
        title: "engaged",
        option: ["交談", "海軍", "垃圾", "結婚"],
        answer: "D"
    },
    {
        id: 4,
        title: "board game",
        option: ["桌遊", "探索", "心靈", "自然"],
        answer: "A"
    },
    {
        id: 5,
        title: "nature",
        option: ["自然", "名聲", "導遊", "寺廟"],
        answer: "A"
    },
    {
        id: 6,
        title: "artist",
        option: ["應得", "名聲", "雇用", "藝術家"],
        answer: "D"
    },
    {
        id: 7,
        title: "local",
        option: ["自然", "極好", "當地", "地點"],
        answer: "C"
    },
    {
        id: 8,
        title: "reputation",
        option: ["名聲", "旅遊", "事件", "結婚"],
        answer: "A"
    },
    {
        id: 9,
        title: "lawyer",
        option: ["探索", "律師", "難忘", "目的地"],
        answer: "B"
    },
    {
        id: 10,
        title: "own",
        option: ["偷看", "山谷", "擁有", "桌遊"],
        answer: "C",
    },
    {
        id: 11,
        title: "deserve",
        option: ["指引", "探索", "應得", "兒子"],
        answer: "C",
    },
    {
        id: 12,
        title: "publish",
        option: ["公布", "擁有", "結婚", "地點"],
        answer: "A",
    },
    {
        id: 13,
        title: "settle",
        option: ["自然", "拋棄", "安放", "偷看"],
        answer: "C",
    },
    {
        id: 14,
        title: "absence",
        option: ["拋棄", "衛星", "跳過", "缺席"],
        answer: "D",
    },
    {
        id: 15,
        title: "unfortunately",
        option: ["難忘的", "高興的", "不幸的", "敬佩的"],
        answer: "C",
    },
    {
        id: 16,
        title: "disappear",
        option: ["快速", "出現", "探索", "消失"],
        answer: "D",
    },
    {
        id: 17,
        title: "eager",
        option: ["拋棄", "快樂的", "不幸的", "熱切的"],
        answer: "D",
    },
    {
        id: 18,
        title: "descendant",
        option: ["後代", "探索", "桌遊", "自然"],
        answer: "A"
    },
    {
        id: 19,
        title: "odd",
        option: ["增加", "奇怪的", "#免費", "可以"],
        answer: "B"
    },
    {
        id: 20,
        title: "identical",
        option: ["未知", "相反", "相同", "文明"],
        answer: "C"
    },
    {
        id: 21,
        title: "hostile",
        option: ["敵方", "故意", "相同", "文明"],
        answer: "A"
    },
    {
        id: 22,
        title: "deliberate",
        option: ["恢復", "缺席", "拋棄", "故意"],
        answer: "D"
    },
    {
        id: 23,
        title: "colony",
        option: ["殖民", "恢復", "拋棄", "探索"],
        answer: "A"
    },
    {
        id: 24,
        title: "compare",
        option: ["敬佩", "谷", "公司", "比較/對照"],
        answer: "D"
    },
    {
        id: 25,
        title: "human",
        option: ["狗", "人", "蛇", "兔兔"],
        answer: "B"
    },
    {
        id: 26,
        title: "judgment",
        option: ["森林", "發現", "探索", "判斷"],
        answer: "D"
    },
    {
        id: 27,
        title: "critic",
        option: ["評論家", "藝術家", "文明", "指引"],
        answer: "A"
    },
    {
        id: 28,
        title: "take into account",
        option: ["偷看", "訓練", "考慮到", "難忘"],
        answer: "C"
    },
    {
        id: 29,
        title: "attention",
        option: ["注意", "遺忘", "導覽", "中央"],
        answer: "A"
    },
    {
        id: 30,
        title: "meditation",
        option: ["沉思", "訓練", "好轉", "工具"],
        answer: "A"
    },
    {
        id: 31,
        title: "cure",
        option: ["垃圾", "好轉", "不幸", "難忘"],
        answer: "B"
    },
    {
        id: 32,
        title: "alert",
        option: ["旅遊", "水壺", "警惕", "訓練"],
        answer: "C"
    },
    {
        id: 33,
        title: "objective",
        option: ["寺廟", "自然", "地區", "目標、客觀"],
        answer: "D"
    },
    {
        id: 34,
        title: "religion",
        option: ["天堂", "目標", "宗教", "人"],
        answer: "C"
    },
    {
        id: 35,
        title: "spiritual",
        option: ["心靈的", "好轉", "警惕", "奇怪"],
        answer: "A"
    },
    {
        id: 36,
        title: "breathing",
        option: ["垃圾", "探索", "目標", "呼吸"],
        answer: "D"
    },
    {
        id: 37,
        title: "marine",
        option: ["大氣層", "adj.海洋/n.海軍", "呼吸", "宗教"],
        answer: "B"
    },
    {
        id: 38,
        title: "atmosphere",
        option: ["缺席", "應得", "寺廟", "大氣層"],
        answer: "D"
    },
    {
        id: 39,
        title: "region",
        option: ["地點", "地區", "中央", "當地"],
        answer: "B"
    },
    {
        id: 40,
        title: "paradise",
        option: ["應得", "天堂", "寺廟", "當地"],
        answer: "B"
    },
    {
        id: 41,
        title: "surroundings",
        option: ["雇用", "多數", "周圍", "觀光"],
        answer: "C"
    },
    {
        id: 42,
        title: "conservation",
        option: ["對話/交談", "周圍", "推薦", "客人"],
        answer: "A"
    },
    {
        id: 43,
        title: "recommend",
        option: ["推薦", "自然", "缺席", "未知"],
        answer: "A"
    },
    {
        id: 44,
        title: "litter",
        option: ["導覽", "工具", "客人", "垃圾"],
        answer: "D"
    },
    {
        id: 45,
        title: "guest",
        option: ["婚證", "猜測", "訓練", "客人"],
        answer: "D"
    },
    {
        id: 46,
        title: "contaminate",
        option: ["汙染", "公司", "對照", "工具"],
        answer: "A"
    },
    {
        id: 47,
        title: "tourist",
        option: ["目的地", "中央", "觀光客", "旅遊"],
        answer: "C"
    },
    {
        id: 48,
        title: "laid-back",
        option: ["不幸的", "難忘的", "悠閒/舒服的", "極好的"],
        answer: "C"
    },
    {
        id: 49,
        title: "tour",
        option: ["目的地", "旅遊", "觀光客", "導覽"],
        answer: "D"
    },
    {
        id: 50,
        title: "excellent",
        option: ["極好的", "不幸的", "難忘的", "舒服的"],
        answer: "A"
    },
    {
        id: 51,
        title: "explore",
        option: ["旅遊", "探索", "自然", "導覽"],
        answer: "B"
    },
    {
        id: 52,
        title: "peak",
        option: ["探索", "導覽", "公園", "偷看"],
        answer: "D"
    },
    {
        id: 53,
        title: "valley",
        option: ["海洋", "谷", "文明", "塔"],
        answer: "B"
    },
    {
        id: 54,
        title: "Central",
        option: ["中央", "塔", "文明", "清單"],
        answer: "A"
    },
    {
        id: 55,
        title: "destination",
        option: ["目的地", "宇宙", "探索", "缺席"],
        answer: "A"
    },
    {
        id: 56,
        title: "unforgettable",
        option: ["難忘的", "不幸的", "難忘的", "古老的"],
        answer: "C"
    },
    {
        id: 57,
        title: "journey",
        option: ["導覽", "探索", "旅遊", "觀光客"],
        answer: "C"
    },
    {
        id: 58,
        title: "guide",
        option: ["塔", "導覽", "指引", "旅遊"],
        answer: "C"
    },
    {
        id: 59,
        title: "gear",
        option: ["齒輪/工具", "垃圾", "藝術家", "律師"],
        answer: "A"
    },
    {
        id: 60,
        title: "training",
        option: ["公布", "跳過", "恢復", "訓練"],
        answer: "D"
    },
    {
        id: 61,
        title: "temple",
        option: ["當地", "地點", "谷", "節奏/寺廟"],
        answer: "D"
    },
    {
        id: 62,
        title: "tower",
        option: ["寺廟", "塔", "擁有", "廁所"],
        answer: "B"
    },
    {
        id: 63,
        title: "ancient",
        option: ["拋棄", "藝術家", "古老的", "缺席"],
        answer: "C"
    },
    {
        id: 64,
        title: "satellite",
        option: ["人造衛星", "應得", "後代", "安放"],
        answer: "A"
    },
    {
        id: 65,
        title: "abandon",
        option: ["拋棄", "競賽", "古老", "缺席"],
        answer: "A"
    },
    {
        id: 66,
        title: "rediscover",
        option: ["遺忘", "恢復", "重新發現", "相同"],
        answer: "C"
    },
    {
        id: 67,
        title: "list",
        option: ["清單/明細", "發票", "殖民", "擁有"],
        answer: "A"
    },
    {
        id: 68,
        title: "economy",
        option: ["周圍", "經濟", "汙染", "大氣層"],
        answer: "B"
    },
    {
        id: 69,
        title: "pass",
        option: ["垃圾", "狗", "貓咪", "跳過"],
        answer: "D"
    },
    {
        id: 70,
        title: "restore",
        option: ["重新發現", "天堂", "恢復", "旅遊"],
        answer: "C"
    },
    {
        id: 71,
        title: "civilization",
        option: ["恢復", "人造衛星", "文明", "殖民"],
        answer: "C"
    },{
        id: 72,
        title: "respect",
        option: ["重新發現", "敬佩", "恢復", "汙染"],
        answer: "B"
    },
    
];
const topic_exist = new Array(data.length).fill(false);
const topic = new Array();



const SectionTopic = document.querySelector(".inner-section");


const SetTopic = ()=>{
    for (var i = 0; i < 50; i++) {
        let n = Math.floor((Math.random() * 72) + 1);
        while (topic_exist[n] == true) {
            n = Math.floor((Math.random() * 72) + 1);
        }
    
        topic_exist[n] = true;
        topic.push(data[n]);
    }
}




let count = 0;
let grade = 0;


const ReTopic = () => {
    SectionTopic.innerHTML = `
        <h2 class="title">${topic[count].id}.${topic[count].title}</h2>
        <button class="option A">(A) ${topic[count].option[0]}</button>
        <button class="option B">(B) ${topic[count].option[1]}</button>
        <button class="option C">(C) ${topic[count].option[2]}</button>
        <button class="option D">(D) ${topic[count].option[3]}</button>
        <h3 class="grade">共 50 題,目前做到第 1 題,總共得分:0</h3>`;
};

const fix = document.querySelector('.fail');
const fix_content = document.querySelector('.fail-content');
const fix_title = document.querySelector('.fail-title');


const FixAnswer = (b)=>{
    if(b==true){
        fix.textContent = "";
        fix_content.textContent = "";
        fix_title.textContent="";
    }
    else{
        fix_title.textContent="答錯了!";
        fix.textContent = topic[count].id + "." + topic[count].title;
        let correctAnswer = 0;
        if(topic[count].answer=="B"){
            correctAnswer = 1;
        }
        else if(topic[count].answer=="C"){
            correctAnswer = 2;
        }
        else if(topic[count].answer=="D"){
            correctAnswer = 3;
        }
        fix_content.textContent = "正確答案為 : " + topic[count].option[correctAnswer];
    }
};


SetTopic();
ReTopic();

const YourAnswer = document.querySelectorAll('.option');
const Title = document.querySelector('.title');
const YourGrade = document.querySelector('.grade');
const endBtn = document.querySelector('.end');



YourAnswer.forEach((answer) => {
    answer.addEventListener('click', (e) => {
        console.log('123');
        if (e.currentTarget.classList.contains(topic[count].answer)) {
            grade += 2;
            FixAnswer(true);
        }
        else{
            FixAnswer(false);
        }
        count++;
        if (count < 20) {
            YourGrade.textContent = "共 50 題,目前做到第 " + (count + 1) + "題,總共得分:" + grade;
            Title.textContent = topic[count].id + "." + topic[count].title;
            YourAnswer.forEach((item, index) => {
                if (index == 0) {
                    item.textContent = "(A) " + topic[count].option[index];
                }
                if (index == 1) {
                    item.textContent = "(B) " + topic[count].option[index];
                }
                if (index == 2) {
                    item.textContent = "(C) " + topic[count].option[index];
                }
                if (index == 3) {
                    item.textContent = "(D) " + topic[count].option[index];
                }

            });
        }
        else {
            YourGrade.textContent = "結束了! 你得到"+grade+"分";
            endBtn.style.display = 'inline-block';
        }

    });
});


endBtn.addEventListener('click',()=>{
    window.location.reload();
});